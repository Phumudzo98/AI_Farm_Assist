<div class="dashboard-container">
  <!-- Top Header Strip -->
  <div class="top-header">
    <span class="menu-icon" (click)="toggleMenu()">â˜°</span>
    <img class="profile-pic" [src]="userProfilePic" alt="User Profile" />
  </div>

  <!-- Sliding Side Menu -->
  <nav class="side-menu" [class.open]="menuOpen">
    <div class="close-btn" (click)="toggleMenu()">Ã—</div>
    <ul>
      <li><a [routerLink]="['/dashboard', id]">Dashboard</a></li>
      <li><a  [routerLink]="['/weather', id]">Weather</a></li>
      <li><a [routerLink]="['/land-list', id]">Farm Sections</a></li>
      <li><a [routerLink]="['/ask-ai']">Ask AI</a></li>
      <li><a href="#">Reports</a></li>
      <li><a [routerLink]="['/select-a-farm']">Switch farm</a></li>
      <li><a (click)="logout()">Logout</a></li>
    </ul>
  </nav>

  <!-- Overlay Content -->
  <div *ngIf="farmData!=null" class="dashboard-content" [class.shifted]="menuOpen">
    <header class="dashboard-header">
      <h1>{{ farmData.farmName }} Dashboard</h1>
      <button class="btn-add-farm" (click)="goToAddFarm()">Add New Farm</button>
    </header>

    <div class="dashboard-grid">
      <!-- Weather Widget with AI Recommendation -->
      <div class="card weather-card">
        <div class="card-header">
          <h2>Weather</h2>
          <span class="icon">ğŸŒ¤ï¸</span>
        </div>
        <div class="card-body">
          <p class="temperature">{{ weather.temperature }}</p>
          <p class="condition">{{ weather.condition }}</p>
          <div class="weather-details">
            <span>ğŸ’§ {{ weather.humidity }}</span>
            <span>ğŸŒ§ï¸ {{ weather.rainfall }}</span>
          </div>

          <!-- AI Watering Recommendation -->
          <div class="ai-recommendation mt-3">
            <h4>ğŸ’¡ Watering Advice</h4>
            <ul>
              <li *ngFor="let insight of aiInsights">{{ insight }}</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Farm Operations -->
      <div class="card operations-card">
        <div class="card-header">
          <h2>Farm Operations</h2>
          <span class="icon">ğŸšœ</span>
        </div>
        <div class="card-body operations-buttons">
          <button>ğŸŒ± Crops</button>
          <button>ğŸ„ Livestock</button>
          <button>ğŸ’§ Irrigation</button>
          <button>ğŸ“Š Reports</button>
        </div>
      </div>
    </div>
  </div>
</div>
