<div class="vh-100 d-flex align-items-center justify-content-center" style="background-color: #eaf6ec;">
  <div class="w-75 w-md-50 p-5" style="background-color: rgba(255,255,255,0.95); border-radius: 20px;">
    <h2 class="text-center mb-4" style="color: #367C2B;">
      {{ isEditMode ? 'Edit Record' : 'Add Pest/Disease' }}
    </h2>

    <form [formGroup]="pestDiseaseForm" (ngSubmit)="onSubmit()" *ngIf="!loading; else loadingSpinner">
      <div class="mb-3">
        <select formControlName="type" class="form-control underline-input input-lg">
          <option value="">Select Type</option>
          <option value="Pest">Pest</option>
          <option value="Disease">Disease</option>
        </select>
      </div>

      <div class="mb-3">
        <input type="text" formControlName="name" placeholder="Name" class="form-control underline-input input-lg">
      </div>

      <div class="mb-3">
        <select formControlName="severity" class="form-control underline-input input-lg">
          <option value="">Select Severity</option>
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
        </select>
      </div>

      <div class="mb-3">
        <input type="date" formControlName="detectionDate" class="form-control underline-input input-lg date-input">
      </div>

      <div class="mb-3">
        <input type="text" formControlName="actionTaken" placeholder="Action Taken" class="form-control underline-input input-lg">
      </div>

      <div class="mb-3">
        <textarea formControlName="notes" placeholder="Notes" class="form-control underline-input input-lg"></textarea>
      </div>

      <button type="submit" class="btn w-100 mt-3" style="background-color: #367C2B; color: white;">
        {{ isEditMode ? 'Update Record' : 'Save Record' }}
      </button>
    </form>

    <ng-template #loadingSpinner>
      <div class="text-center py-5">
        <div class="spinner-border text-success" role="status"></div>
        <p class="mt-3 text-success">Loading record...</p>
      </div>
    </ng-template>

    <p class="mt-4 text-center">
      Back to 
      <a [routerLink]="['/pest-disease-list', cropId]" style="color: #367C2B; font-weight: 600;">
        Pest/Disease List
      </a>
    </p>
  </div>
</div>
