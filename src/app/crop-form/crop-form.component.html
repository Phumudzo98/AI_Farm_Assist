<div class="vh-100 d-flex align-items-center justify-content-center" style="background-color: #eaf6ec;">
  <div class="w-75 w-md-50 p-5" style="background-color: rgba(255,255,255,0.95); border-radius: 20px;">



    <h2 class="text-center mb-4" style="color: #367C2B; font-size: 2rem;">
      {{ isEditMode ? 'Edit Crop' : 'Add New Crop' }}
    </h2>

    <form [formGroup]="cropForm" (ngSubmit)="onSubmit()" *ngIf="!loading; else loadingSpinner">
      <div class="row g-3">
        <div class="col-6">
          <input type="text" formControlName="cropName" placeholder="Crop Name" class="form-control underline-input input-lg">
        </div>
        <div class="col-6">
          <input type="text" formControlName="variety" placeholder="Variety" class="form-control underline-input input-lg">
        </div>
      </div>

        <div class="row g-3 mt-3">
    <div class="col-6">
        <label class="form-label small-label">Planting Date</label>
        <input 
        type="date" 
        formControlName="plantingDate" 
        class="form-control underline-input input-lg date-input">
    </div>

    <div class="col-6">
        <label class="form-label small-label">Expected Harvest Date</label>
        <input 
        type="date" 
        formControlName="expectedHarvestDate" 
        class="form-control underline-input input-lg date-input">
    </div>
    </div>


      
      <div class="row g-3 mt-3">
  <div class="col-6">
    <label class="form-label small-label">Actual Harvest Date</label>
    <input 
      type="date" 
      formControlName="actualHarvestDate" 
      class="form-control underline-input input-lg date-input">
  </div>
        <div class="col-3">
          <input type="number" step="0.01" formControlName="yield" placeholder="Yield" class="form-control underline-input input-lg">
        </div>
        <div class="col-3">
          <input type="text" formControlName="yieldUnit" placeholder="Unit (e.g. kg)" class="form-control underline-input input-lg">
        </div>
      </div>

      <div class="row g-3 mt-3">
        <div class="col-6">
          <input type="text" formControlName="growthStage" placeholder="Growth Stage" class="form-control underline-input input-lg">
        </div>
        <div class="col-6">
          <input type="text" formControlName="healthStatus" placeholder="Health Status" class="form-control underline-input input-lg">
        </div>
      </div>

      <div class="mt-3">
        <select formControlName="landDetails" class="form-control underline-input input-lg">
          <option value="">Select Land Plot</option>
          <option *ngFor="let land of lands" [value]="land.id">{{ land.landName }}</option>
        </select>
      </div>

      <button type="submit" class="btn w-100 mt-4 btn-lg" style="background-color: #367C2B; color: white; border-radius: 10px;">
        {{ isEditMode ? 'Update Crop' : 'Save Crop' }}
      </button>
    </form>

    <ng-template #loadingSpinner>
      <div class="text-center py-5">
        <div class="spinner-border text-success" role="status"></div>
        <p class="mt-3 text-success">Loading crop details...</p>
      </div>
    </ng-template>

    <p class="mt-4 text-center">
      Want to go back? 
      <a routerLink="/crops" style="color: #367C2B; font-weight: 600;">Crop List</a>
    </p>
  </div>
</div>
