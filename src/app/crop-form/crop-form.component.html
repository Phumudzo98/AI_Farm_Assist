<div class="vh-100 d-flex align-items-center justify-content-center" style="background-color: #eaf6ec;">
  <div class="w-75 w-md-50 p-5" style="background-color: rgba(255,255,255,0.95); border-radius: 20px;">

    <h2 class="text-center mb-4" style="color: #367C2B; font-size: 2rem;">
      {{ isEditMode ? 'Edit Crop' : 'Add New Crop' }}
    </h2>

    <form [formGroup]="cropForm" (ngSubmit)="onSubmit()" *ngIf="!loading; else loadingSpinner">

      <!-- Crop Name & Variety -->
      <div class="row g-3">
        <div class="col-6">
          <input type="text" formControlName="cropName" placeholder="Crop Name" class="form-control underline-input input-lg">
        </div>
        <div class="col-6">
          <input type="text" formControlName="variety" placeholder="Variety" class="form-control underline-input input-lg">
        </div>
      </div>

      <!-- Planting & Expected Harvest Dates -->
      <div class="row g-3 mt-3">
        <div class="col-6">
          <label class="form-label small-label">Planting Date</label>
          <input type="date" formControlName="plantingDate" class="form-control underline-input input-lg date-input">
        </div>
        <div class="col-6">
          <label class="form-label small-label">Expected Harvest Date</label>
          <input type="date" formControlName="expectedHarvestDate" class="form-control underline-input input-lg date-input">
        </div>
      </div>

      <!-- Actual Harvest & Yield -->
      <div class="row g-3 mt-3">
        <div class="col-6">
          <label class="form-label small-label">Actual Harvest Date</label>
          <input type="date" formControlName="actualHarvestDate" class="form-control underline-input input-lg date-input">
        </div>
        <div class="col-3">
          <input type="number" step="0.01" formControlName="yield" placeholder="Yield" class="form-control underline-input input-lg">
        </div>
        <div class="col-3">
          <input type="text" formControlName="yieldUnit" placeholder="Unit (e.g. kg)" class="form-control underline-input input-lg">
        </div>
      </div>

      <!-- Growth Stage & Health Status -->
      <div class="row g-3 mt-3">
        <div class="col-6">
          <label class="form-label small-label">Growth Stage</label>
          <select formControlName="growthStage" class="form-control underline-input input-lg">
            <option value="">Select Growth Stage</option>
            <option value="Seedling">Seedling</option>
            <option value="Vegetative">Vegetative</option>
            <option value="Flowering">Flowering</option>
            <option value="Harvest">Harvest</option>
          </select>
        </div>
        <div class="col-6">
          <label class="form-label small-label">Health Status</label>
          <select formControlName="healthStatus" class="form-control underline-input input-lg">
            <option value="">Select Health Status</option>
            <option value="Good">Good</option>
            <option value="Moderate">Moderate</option>
            <option value="Critical">Critical</option>
          </select>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn w-100 mt-4 btn-lg" style="background-color: #367C2B; color: white; border-radius: 10px;">
        {{ isEditMode ? 'Update Crop' : 'Save Crop' }}
      </button>
    </form>

    <!-- Loading Spinner -->
    <ng-template #loadingSpinner>
      <div class="text-center py-5">
        <div class="spinner-border text-success" role="status"></div>
        <p class="mt-3 text-success">Loading crop details...</p>
      </div>
    </ng-template>

    <!-- Back Link -->
    <p class="mt-4 text-center">
      Want to go back? 
      <a [routerLink]="['/crop-list', landId]" style="color: #367C2B; font-weight: 600;">Crop List</a>
    </p>
  </div>
</div>
